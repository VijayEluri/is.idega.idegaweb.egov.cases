<?xml version="1.0" encoding="UTF-8"?>

<process-definition
  xmlns=""  name="simpleCasesProcessTemplate">
   <start-state name="start">
      <transition name="toCreateRequest" to="createRequest"></transition>
   </start-state>
   <end-state name="end"></end-state>
   <task-node name="createRequest">
      <task name="createRequestTask">
         <controller>
            <variable name="string:requestMessage"></variable>
         </controller>
      </task>
      <transition name="toOverviewCase" to="overviewCase">
      </transition>
   </task-node>
   <task-node name="createResponse">
      <task name="createResponseTask">
         <controller>
            <variable name="string:requestMessage" access="read"></variable>
            <variable name="string:responseMessage"></variable>
         </controller>
      </task>
      <event type="node-leave">
         <action name="handleCaseStatus" class="is.idega.idegaweb.egov.cases.jbpm.actionhandlers.CasesStatusHandler" config-type="constructor"></action>
      </event>
      <transition name="toStatusDecision" to="statusDecision"></transition>
   </task-node>
   <task-node name="overviewCase">
      <task name="overviewCaseTask">
         <controller>
            <variable name="string:requestMessage" access="read"></variable>
         </controller>
      </task>
      <event type="node-leave">
         <action name="handleCaseAllocation" class="is.idega.idegaweb.egov.cases.jbpm.actionhandlers.CasesAllocationHandler" config-type="constructor"></action>
      </event>
      <transition name="createResponse" to="createResponse"></transition>
   </task-node>
   <node name="statusDecision">
    <action name="handleCaseStatus" class="is.idega.idegaweb.egov.cases.jbpm.actionhandlers.StatusDecisionHandler" config-type="constructor"></action>
      <transition name="toEnd" to="end"></transition>
      <transition name="toCreateResponse" to="createResponse"></transition>
   </node>
</process-definition>